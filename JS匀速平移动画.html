<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        body{
            margin: 0;
        }
        #box,#box2{
            width: 300px;
            height: 300px;
            background: red;
            position: absolute;
            top: 0;
            left: 100px;

        }
        #box2{
            background: blue;
            top: 320px;
            left: 700px;
        }
    </style>
</head>
<body>
    <div id="box"></div>
    <div id="box2"></div>
    <button id="btn">点击</button>
    <button id="btn2">蓝块运动</button>
    <script>
        // 0+2+2+2+2+2+2  101
        var btn = document.getElementById('btn');
        var btn2 = document.getElementById('btn2');
        /*btn.onclick = function(){
            var box = document.getElementById('box');
            var left = box.offsetLeft;
            var a = 0;
            var speed = 2;
            var t = setInterval(function(){
                a+=speed;
                box.style.left = left + a +"px"
                if(a >= 101){
                    clearInterval(t);
                    box.style.left = left + 101 + "px";
                }
            },10)
        }*/
        var box = document.getElementById('box');
        var box2 = document.getElementById('box2');
        btn.onclick = function(){
            move(box,400,6);
        }
        btn2.onclick = function(){
            move(box2,400,6);
        }
        
        function move(ele,target,speed){
            // var box = document.getElementById('box');
            /*if(ele.offsetLeft<target){
                var speed = speed;
            }else{
                var speed = -speed;
            }*/
            var speed = ele.offsetLeft<target?speed:-speed; //如果当前的left值小于目标值 要向右走 速度应该是正值 。反之，speed为负值
            var t = setInterval(function(){
                ele.style.left = ele.offsetLeft + speed + "px"; //每次当前的offsetLeft+speed 设置给要运动元素

                //
                /*if(speed>0 && ele.offsetLeft >= target){
                    clearInterval(t);
                    ele.style.left = target+"px";
                }
                if(ele.offsetLeft <= target && speed<0){
                    clearInterval(t);
                    ele.style.left = target+"px";
                }*/
                
                if(Math.abs(ele.offsetLeft-target) <= Math.abs(speed)){
                    clearInterval(t);
                    ele.style.left = target+"px";
                }
            },10);

        }


    </script>
</body>
</html>